<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>haobo.li</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="A Blog about Measurement Instrument and Automation Software, LabVIEW, Python and so on">
<meta property="og:type" content="website">
<meta property="og:title" content="haobo.li">
<meta property="og:url" content="http://haobo.li/page/5/index.html">
<meta property="og:site_name" content="haobo.li">
<meta property="og:description" content="A Blog about Measurement Instrument and Automation Software, LabVIEW, Python and so on">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="haobo.li">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="haobo.li" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">haobo.li</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://haobo.li"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-archived-stream-to-disk-guide-04" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/12/02/archived-stream-to-disk-guide-04/" class="article-date">
  <time datetime="2009-12-01T23:36:29.000Z" itemprop="datePublished">2009-12-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/12/02/archived-stream-to-disk-guide-04/">流盘备忘录(4)-存盘API</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1426" class="bvMsg">

<p>存盘接口</p>
<p>Windows写入文件有两种形式缓冲和非缓冲</p>
<p><a target="_blank" rel="noopener" href="http://msdn.microsoft.com/en-us/library/aa365747(VS.85).aspx">http://msdn.microsoft.com/en-us/library/aa365747(VS.85).aspx</a></p>
<p>缓冲模式是Windows自动分配缓冲区将数据分割到硬盘的每个簇大小以便写入，而非缓冲模式是有我们程序员进行缓冲区 的分配，可以任意指定大小。（这个任意并不是绝对的，必须要是硬盘簇的整数倍）</p>
<p>XP系统默认的缓冲区应该不是很大，在Copy文件时效率比Windows7要低一些，而在我们操作巨型的文件时至少要4MB以上的缓冲区才能发挥出最大效能。</p>
<p>如下图所示，block size越大数据流盘速度就相对越快，读盘反而是缓冲区较小时效率较高。不过这张图使用的是RAMDISK，数据只能供参考，使用硬盘时可以再行测试。</p>
<p><a target="_blank" rel="noopener" href="https://aftv2q.bay.livefilestore.com/y1mat4peCvjmEMxPILOBL4FVkwlcJIh2zKzqf4tHnaYy-Cew0asruMV-q8nQPl_ycWqG4NnNlPfNpfRIBJ9IOQ0FtLE9DdHhvkrF-y1OrOnoaqSCiMQBTGsv6LV15isGY20RnyhK6l729eJo_2xqmZnBw/image25.png">![image](https://aftv2q.bay.livefilestore.com/y1mmJSZHqeg1_dNBpTc6Djg73HIE-DyBZiWejBXbE3B9Jg78ilPCO3f9Xmx9x4CMddw6Q-paX_XTIcQ2Y3E7yOi0lewNzyomXKE4vp9-n7JchgCiE17yaEMP8Ux_HMMH1CrCCuTNwtubzvN43O_65mUKA&#x2F;image_thumb 763FDADC.png “image”)</a> </p>
<p>在LabVIEW 2009里面支持非缓冲格式流盘的有TDMS，BINARY和Win32APIVIs三种</p>
<p>![image](<a target="_blank" rel="noopener" href="https://aftv2q.bay.livefilestore.com/y1m4CV566wf7PJgi97WlOxgGH0Wo06tB9RxB7f_jJOr7OXVIePxxEWGB_1CTjM1sMQ-1TF7lxUUg7HOMqixnY_6dmjJASUsBc3AcILPmT_T6wrsnNMQmbcPL2zwdp9vechREimzqj5lR8v7ApbXeOu09Q/image[5]">https://aftv2q.bay.livefilestore.com/y1m4CV566wf7PJgi97WlOxgGH0Wo06tB9RxB7f_jJOr7OXVIePxxEWGB_1CTjM1sMQ-1TF7lxUUg7HOMqixnY_6dmjJASUsBc3AcILPmT_T6wrsnNMQmbcPL2zwdp9vechREimzqj5lR8v7ApbXeOu09Q/image[5]</a> 0B448D74.png “image”) </p>
<p>LabVIEW 2009 TDMS</p>
<p><a target="_blank" rel="noopener" href="http://lhb5883.files.wordpress.com/2009/12/tdms6.png"><img src="http://lhb5883.files.wordpress.com/2009/12/tdms6.png?w=300" alt="TDMS" title="TDMS"></a></p>
<p>Lab VIEW 2009 Binary</p>
<p><a target="_blank" rel="noopener" href="http://lhb5883.files.wordpress.com/2009/12/labview20094.png"><img src="http://lhb5883.files.wordpress.com/2009/12/labview20094.png?w=300" alt="LabVIEW 2009" title="LabVIEW 2009"></a> </p>
<p>Win32API</p>
<p><a target="_blank" rel="noopener" href="http://lhb5883.files.wordpress.com/2009/12/win324.png"><img src="http://lhb5883.files.wordpress.com/2009/12/win324.png?w=300" alt="win32" title="win32"></a> </p>
<p>这三种接口效率如何我们用RAMDISK分配一个内存盘以测试API本身的性能。</p>
<p><a target="_blank" rel="noopener" href="http://lhb5883.files.wordpress.com/2009/12/image27.png"><img src="http://lhb5883.files.wordpress.com/2009/12/image27.png?w=300" alt="image" title="image"></a> </p>
<p><a target="_blank" rel="noopener" href="http://lhb5883.files.wordpress.com/2009/12/image29.png"><img src="http://lhb5883.files.wordpress.com/2009/12/image29.png?w=300" alt="image" title="image"></a> </p>
<p><a target="_blank" rel="noopener" href="http://lhb5883.files.wordpress.com/2009/12/image314f2cef3a.png"><img src="http://lhb5883.files.wordpress.com/2009/12/image314f2cef3a.png?w=300" alt="image" title="image"></a> </p>
<p><a target="_blank" rel="noopener" href="http://lhb5883.files.wordpress.com/2009/12/image33.png"><img src="http://lhb5883.files.wordpress.com/2009/12/image33.png?w=277" alt="image" title="image"></a> </p>
<p>结果： TDMS 153.2MB&#x2F;s LabVIEW2009 Bin 497MB&#x2F;s Win32APIVIs 515.9MB&#x2F;s</p>
<p>分析 因为三种API流盘的目标都是内存，数据量也相等，所以性能的差别应该是API本身造成的，观察CPU占用也可以看到TDMS最高，LabVIEW2009 bin和Win32基本持平，可见写入函数过于复杂也会影响存盘效率。<br>  </div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/12/02/archived-stream-to-disk-guide-04/" data-id="cl2eni867003jrcundk00clv6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-stream-to-disk-guide-03" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/11/26/archived-stream-to-disk-guide-03/" class="article-date">
  <time datetime="2009-11-26T00:00:17.000Z" itemprop="datePublished">2009-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/11/26/archived-stream-to-disk-guide-03/">流盘备忘录(3)-数据格式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1393" class="bvMsg">

<p>数据保存格式注意事项</p>
<p>2D I32 数据换算.</p>
<p>以DAQmx读取为例，我们读取数据可以用以下三种格式：</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/11/image11595a2be2.png?w=157" alt="image" title="image"> </p>
<p><img src="http://lhb5883.files.wordpress.com/2009/11/image1438466da1.png?w=177" alt="image" title="image"> </p>
<p><img src="http://lhb5883.files.wordpress.com/2009/11/image20.png?w=143" alt="image" title="image"> </p>
<p>其中I16占用内存最小，每一个采样使用2Byte内存，DBL会占用8个Byte，在采集大量数据时使用RawData可以大量减少内存和CPU的使用。</p>
<p>binary data格式</p>
<p>二进制表示的是AD芯片转换的原始信息，如何换算为电压呢？</p>
<p>直接 Volt&#x3D;bin data&#x2F;(2^ADbits)*Range理论是可行的 ，但是实际上是不准确的，因为通道还有校准信息我们没有得到。</p>
<p>DAQmx提供了通道的标定信息，结合多项式函数就可以简单的得出实际电压。</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/11/convertdata_thumb.png?w=300" alt="convert data" title="convert data"> </p>
<p>交织还是非交织;</p>
<p>对于RawData来说，单通道的结构比较简单就是一个数组，但是多通道时读回来的还是一个1D Array，如何找出每个通道所对应的数据呢？这就牵扯到交织和非交织了。</p>
<blockquote>
<h3 id="Raw-Data"><a href="#Raw-Data" class="headerlink" title="Raw Data"></a>Raw Data</h3><p>Raw data is in the native format and <em>organization</em> of the device, read directly from the device or buffer without scaling or reordering. The native format of a device can be an 8-, 16-, or 32-bit integer, signed or unsigned.  <p>If you use a different integer size than the native format of the device, one integer can contain multiple samples or one sample can stretch across multiple integers. For example, if you use 32-bit integers, but the device uses 8-bit samples, one integer contains up to four samples. If you use 8-bit integers, but the device uses 16-bit samples, a sample might require two integers. This behavior varies from device to device. Refer to your device documentation for more information.  <p>NI-DAQmx does not separate raw data into channels. It returns data in an <a href="interleaving.html">interleaved or non-interleaved</a> 1D array, depending on the raw ordering of the device. Refer to your device documentation for more information.  </p>
<h3 id="Interleaving"><a href="#Interleaving" class="headerlink" title="Interleaving"></a>Interleaving</h3> <p>Interleaved samples prioritize samples before channels, such that the array lists the first sample from every channel in the task, then the second sample from every channel, up to the last sample from every channel.  <p>Channel 0—Sample 1  <p>Channel 1—Sample 1  <p>Channel 2—Sample 1  <p>Channel 0—Sample 2  <p>Channel 1—Sample 2  <p>Channel 2—Sample 2  <p>...  <p>Channel 0—Sample _N_  <p>Channel 1—Sample _N_  <p>Channel 2—Sample _N_  <p>Non-interleaved samples prioritize channels before samples, such that the array lists all samples from the first channel in the task, then all samples from the second channel, up to all samples from the last channel.  <p>Channel 0—Sample 1  <p>Channel 0—Sample 2  <p>...  <p>Channel 0—Sample _N_  <p>Channel 1—Sample 1  <p>Channel 1—Sample 2  <p>...  <p>Channel 1—Sample _N_  <p>Channel 2—Sample 1  <p>Channel 2—Sample 2  <p>...  <p>Channel 2—Sample _N_
</p></p></p></p></p></p></p> 
</blockquote>
<p>最简单的例子6124采集到的数据卡内通道是交织的，卡间又是非交织的，</p>
<p>一个使用两块6124每块使用2个通道连续采集每次采集3个点的数据应该如下：</p>
<p>Broad0CH0Sample1</p>
<p>Broad0CH1Sample1</p>
<p>Broad0CH0Sample2</p>
<p>Broad0CH1Sample2</p>
<p>Broad0CH0Sample3</p>
<p>Broad0CH1Sample3</p>
<p>Broad1CH0Sample1</p>
<p>Broad1CH1Sample1</p>
<p>Broad1CH0Sample2</p>
<p>Broad1CH1Sample2</p>
<p>Broad1CH0Sample3</p>
<p>Broad0CH1Sample3</p>
<p>Broad0CH0Sample4</p>
<p>Broad0CH1Sample4</p>
<p>Broad0CH0Sample5</p>
<p>Broad0CH1Sample5</p>
<p>Broad0CH0Sample6</p>
<p>Broad0CH1Sample6</p>
<p>Broad1CH0Sample4</p>
<p>Broad1CH1Sample4</p>
<p>Broad1CH0Sample5</p>
<p>Broad1CH1Sample5</p>
<p>Broad1CH0Sample6</p>
<p>Broad0CH1Sample6</p>
<p>抽象一下应该如下图，SampleBlock包含了所有通道这一次采集的N点</p>
<p>SampleBlock1 </p>
<p>SampleBlock2</p>
<p>SampleBlock3</p>
<p>….</p>
<p>然后每个SampleBlock里面包含BroadSample</p>
<p>Broad0sample</p>
<p>Broad1sample</p>
<p>Broadsample包含着N次采样</p>
<p>Sample1</p>
<p>Sample2</p>
<p>Sample3</p>
<p>…</p>
<p>SampleN</p>
<p>每个Sample里含有这块板卡上的通道各一个点</p>
<p>CH1</p>
<p>CH2</p>
<p>CH3</p>
<p>CH4</p>
<p>所以一定要分析清楚数据结构才能正确解析出各通道数据</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/11/deinterleaving_thumb.png?w=300" alt="deInterleaving" title="deInterleaving"><br>  </div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/11/26/archived-stream-to-disk-guide-03/" data-id="cl2eni867003hrcun07lneaya" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-stream-to-disk-guide-02" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/11/26/archived-stream-to-disk-guide-02/" class="article-date">
  <time datetime="2009-11-25T23:41:21.000Z" itemprop="datePublished">2009-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/11/26/archived-stream-to-disk-guide-02/">流盘备忘录(2)-软件选择</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1392" class="bvMsg">

<p>对于流盘来说软件也是很重要的,其中会影响到我们流盘性能的有以下几点:</p>
<p>驱动是否高效</p>
<p>是否成功启用了DMA传输采集到的数据以减少系统资源占用。以NI的数据采集卡为例，传统DAQ不使用DMA和中断的方式采集数据其CPU占用率长时间飙升在100%，使用DAQmx默认使用DMA方式可以大大减小CPU的占用率。</p>
<p>软件架构是否合理</p>
<p>我们需要实现的三个主要任务：采集、处理、保存占用率合理分配，数据存储格式应该在保证精度的前提下减小内存占用。</p>
<p>存盘API性能</p>
<p>系统处理文件操作的API分配的缓冲区太小，在读写大文件上性能较低。</p>
<p>关键点：</p>
<p>1 驱动一定要支持DMA,减小CPU占用.提供RAWdata格式和转换公式,减小数据内存占用</p>
<p>2 能否合适的将负载分配到各个CPU上.支持并行和多线程</p>
<p>3 支持底层的无缓冲模式API,避免软件流盘速度瓶颈.</p>
<p>解决方案</p>
<p>1 使用NI DAQmx驱动和NI MI驱动，并启用DMA。</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/11/image24cd46edb.png?w=185" alt="image" title="image"> <img src="http://lhb5883.files.wordpress.com/2009/11/image5b65d6a92a742.png?w=32" alt="image" title="image"> </p>
<p>采集原始数据减小内存占用</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/11/image852bb2442.png?w=77" alt="image" title="image"> <img src="http://lhb5883.files.wordpress.com/2009/11/image1157e9bf59.png?w=99" alt="image" title="image"> <img src="http://lhb5883.files.wordpress.com/2009/11/image5b35d1ff72f9c.png?w=52" alt="image" title="image"> </p>
<p>2 使用LabVIEW或者其他多线程开发软件，启用并行循环和队列。</p>
<p> <img src="http://lhb5883.files.wordpress.com/2009/11/rfstreaming_thumb5b15d.png?w=300" alt="RF Streaming" title="RF Streaming"> </p>
<p>3 使用Win32API，直接调用底层函数并分配较大的缓冲区</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/11/image14135548b4.png?w=32" alt="image" title="image"><br> <p>C++</p>
<pre><code>BOOL WINAPI WriteFile(
  __in         HANDLE _hFile_,
  __in         LPCVOID _lpBuffer_,
  __in         DWORD _nNumberOfBytesToWrite_,
  __out_opt    LPDWORD _lpNumberOfBytesWritten_,
  __inout_opt  LPOVERLAPPED _lpOverlapped_
);
</code></pre>
  </div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/11/26/archived-stream-to-disk-guide-02/" data-id="cl2eni867003frcune3udbov7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-stream-to-disk-guide-01" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/11/26/archived-stream-to-disk-guide-01/" class="article-date">
  <time datetime="2009-11-25T23:25:57.000Z" itemprop="datePublished">2009-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/11/26/archived-stream-to-disk-guide-01/">流盘备忘录(1)-流盘概览</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1391" class="bvMsg">

<p>流盘概览</p>
<p>我们经常会看到一个总线速度比较的图表,可以看到在通常的情况下同一时代内总线最高速度是远远高于外总线的,不过对于硬盘来说,尽管应该也可以算是内总线上的设备,硬盘读写速度一直是一个令人无奈的瓶颈,远远落后于计算机技术和测控技术的发展速度.当我们的示波器数据量已经迈入GB&#x2F;s的量级,硬盘的速度还是在MBS&#x2F;s级徘徊.</p>
<p>造成这种现状的原因:</p>
<p>1.机械式硬盘本身的局限:</p>
<p>需要通过寻道等机械动作之后才能实现读写动作,如果使用SSD固态硬盘,单块硬盘速度可以提高到100MBSs以上,</p>
<p>传统硬盘通过组成Raid0阵列也可以提高写入速度，目前最高性能已经可以到G级。</p>
<p>2.总线接口:</p>
<p>SATA和IDE接口挂接到PCI总线上就要受到PCI总线133MS&#x2F;s的限制,只有使用PCI-E的高带宽接口,才能适合大流量的数据读写，PCIe带宽最高4G。</p>
<p>目前PXIe的系统带宽在3~4G，板卡带宽最高1G。</p>
<p>3.计算机性能：</p>
<p>在处理大量数据时大数组的读写、转置、队列都会给CPU大量的压力，数据量的增大对内存大小也提出了更高的要求。</p>
<p>对于目前PXI平台比较成熟的方案就是使用PXI-E板卡+RAID流盘阵列这种架构.最高数据吞吐量在400M~600MB&#x2F;s左右。<br>  </div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/11/26/archived-stream-to-disk-guide-01/" data-id="cl2eni866003drcun9mz8bko1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-pxi-os-restore" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/11/24/archived-pxi-os-restore/" class="article-date">
  <time datetime="2009-11-23T23:52:30.000Z" itemprop="datePublished">2009-11-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computers-and-Internet/">Computers and Internet</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/11/24/archived-pxi-os-restore/">PXI控制器系统备份软件选择</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1389" class="bvMsg">

<p>虽然NI的控制器质量非常稳定可靠，不过如果使用Windows而非RealTimeOS的话，系统备份恢复软件就是一个值得考虑的问题了。</p>
<p>为了找到一个好用的恢复软件给我们的8176上个保险，来来回回测试了多种备份软件。</p>
<p>系统备份与恢复软件厂商目前主要是Symantic赛门铁克和Acronis两大厂商。其中Symantic以GHOST系列强大的功能闻名，在收购了PowerQuest之后其实力不可小视。Acronis以True Image系列软件的方便易用与稳定可靠被NI作为系统默认的硬盘恢复方案。</p>
<p>我初步的目标是找到一个能在Windows7下备份和恢复整个分区的软件，取代我一直使用的DriveImage。不过该方法需要拆开控制器，所以要是能做成多启动这种方案也不错。</p>
<p>下表是一个简单的比较<br> <table border="0" cellspacing="0" cellpadding="0"> <tbody> <tr> <td width="165">控制器型号</td> <td width="174">Norton Save&amp;Restore&#x2F;<br>Symantec Backup Exec System</td> <td width="107">双启动GHOST</td> <td width="138">光盘&#x2F;U盘版GHOST</td> <td width="198"> </p>
<p>Acronis True Image OEM</p>
</td> <td width="206">Acronis True Image 2010</td> <td width="246">Power Quest Drive Image 2002</td></tr> <tr> <td width="165">PXI-817X/818X（Intel8系列芯片组）</td> <td width="174">OK</td> <td width="107">OK</td> <td width="138">Fail</td> <td width="198">OK</td> <td width="206">不支持Windows2000</td> <td width="246">OK</td></tr> <tr> <td width="165">PXI-819X/810X/8130（Intel9系列芯片组/Nvidia N-Force）</td> <td width="174">OK</td> <td width="107">OK</td> <td width="138">OK</td> <td width="198">OK</td> <td width="206">OK</td> <td width="246">OK</td></tr> <tr> <td width="165">PXI-8108/8110（IntelG系列芯片组）</td> <td width="174">OK</td> <td width="107">未知</td> <td width="138">Fail</td> <td width="198">OK</td> <td width="206">OK</td> <td width="246">OK</td></tr> <tr> <td width="165">功能</td> <td width="174"> </td> <td width="107"> </td> <td width="138"> </td> <td width="198"> </td> <td width="206"> </td> <td width="246"> </td></tr> <tr> <td width="165">在Windows下备份和恢复分区（用于在PC机上恢复系统，适用于硬盘数据完全丢失无法启动等情况）</td> <td width="174">只能用于系统盘</td> <td width="107">/</td> <td width="138">/</td> <td width="198">OK</td> <td width="206">OK</td> <td width="246">OK</td></tr> <tr> <td width="165">在非windows下备份和恢复分区</td> <td width="174">无</td> <td width="107">OK</td> <td width="138">不适用老控制器</td> <td width="198">OK</td> <td width="206">OK</td> <td width="246">无</td></tr> <tr> <td width="165">操作系统支持</td> <td width="174">XP/VISTA</td> <td width="107">/</td> <td width="138">/</td> <td width="198">2000/XP</td> <td width="206">XP/VISTA/Windows7</td> <td width="246">2000/XP</td></tr></tbody></table> 

<p>目前GHOST的二次封装而成的USB GHOST，光盘GHOST、一键GHOST等等版本极多，不过能兼容NI大部分控制器的GHOST版本并不多。而企业版GHOST套装使用和配置极其复杂，操作简单的Windows下备份和恢复的软件在系统崩溃后就没有什么用了。所以值得考虑的就是系统恢复光盘里自带的Acronis True Image OEM版，是一个简单可靠的一键恢复系统，不过一旦恢复就会使系统恢复到出厂状态。需自由备份和恢复就需要完整版的软件才行。</p>
<p>不过我们其实需要的功能往往也没有那么复杂，只需要能恢复系统到一个安装调试好所有软件的状态，那么这时候就可以用到下面这个小技巧了 。</p>
<p>1。正常安装Windows，注意不要选择安装F4一键恢复。</p>
<p>2。分区、安装软件、配置程序。。。</p>
<p>3。将系统恢复盘的CDROM:OSPXI_VXI$OEM$$1SYSPREP目录下的ACRONIS.XML，ACRONIS8199_ENABLE.BAT，ACRONISTRUEIMAGE_8199.MSI三个文件复制到c:Sysprep目录下</p>
<p>4。运行c:SysprepACRONIS8199_ENABLE.BAT，重启系统后就会自动备份操作系统，完成之后在系统启动时按F4就可以一键恢复了。<br>  </div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/11/24/archived-pxi-os-restore/" data-id="cl2eni8650035rcun4qmn0jwj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-scope-trigger-sensitivity" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/09/15/archived-scope-trigger-sensitivity/" class="article-date">
  <time datetime="2009-09-14T22:19:01.000Z" itemprop="datePublished">2009-09-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computers-and-Internet/">Computers and Internet</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/09/15/archived-scope-trigger-sensitivity/">关于示波器的触发灵敏度（Trigger Sensitivity）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1381" class="bvMsg">

<p>示波器板卡有一项参数叫Edge Trigger Sensitivity</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/09/image5b25d23274975.png?w=300" alt="NI PXI/PCI-5152 Specifications（P11）" title="NI PXI/PCI-5152 Specifications（P11）"></p>
<p>这一项指标翻译过来应该是触发敏感度，有什么意义呢？</p>
<p>当我们用示波器高速采集一个高频脉冲信号时，往往会混入很多噪声信号，如果没有触发敏感度，直接按边沿触发往往不能得到一个稳定的示波器图形。</p>
<p><img src="http://www.ed-china.com/ARTICLE_IMAGES/200801/20080101_TM_DT_TS_27F2.JPG" alt="图输入200mVpp锯齿波时的情况。" title="图输入200mVpp锯齿波时的情况。"></p>
<p>触发灵敏度就是用来滤除噪声对触发的影响，使之能够正确被有效信号而非噪声触发，获得稳定波形的一个参数。</p>
<p>TEK网站的定义如下：</p>
<h6 id="Trigger-Sensitivity"><a href="#Trigger-Sensitivity" class="headerlink" title="Trigger Sensitivity"></a>Trigger Sensitivity</h6><p>Trigger sensitivity is a critical attribute when capturing high-speed digital signals. An oscilloscope‘s trigger sensitivity determines its ability to react to specified edge trigger conditions over a range of frequencies. The specification takes the following form: power-line hum interference. </p>
<p><strong>Trigger System Sensitivity, Internal DC Coupled:</strong><br>0.35 div DC to 50 MHz, increasing to 1.5 div at 3 GHz<br>(guaranteed); 2.7 div at 4 GHz (typical)<br>(from TDS7404 DPO data sheet)</p>
<p>The oscilloscope will trigger on a signal of 0.35 divisions amplitude p-p in the range of frequencies from DC to 50 MHz. As the frequency goes beyond 50 MHz, the signal must be larger (higher in amplitude) to trigger the instrument. At 3 GHz, the signal must be at least 1.5 divisions in amplitude. Trigger sensitivity is specified with a sine wave input. <p>灵敏度<br>在捕获高速数字信号时，触发灵敏度是一个关键指标。示波器的触发灵敏度决定着在某个频率范围内示波器对规定边沿触发条件的反应能力。这一指标采用下述形式：电源线噪声干扰。<br>       触发系统灵敏度、内部DC耦合:<br>DC - 50 MHz, 0.35格；3 GHz时提高到1.5格(保障值); 4 GHz时2.7格 (典型值)(摘自TDS7404 DPO技术数据)<br>示波器将在DC到50 MHz 的频率范围内，在0.35格的p-p幅度上触发。在频率超过50MHz时，信号必须更大(幅度更高)，以触发仪器。在3 GHz时，信号的幅度必须在1.5格上。可以使用正弦波输入指定触发灵敏度。 <p>开头图中的指标就是说使用通道触发时灵敏度是满量程的10%，而使用外部触发时灵敏度是固定的0.5V峰峰值。小于灵敏度的毛刺都会被示波器忽略，不认为是触发。 <p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="http://www.ed-china.com/ART_8800024153_400013_500015_TS_f6dcb05a.HTM">http://www.ed-china.com/ART_8800024153_400013_500015_TS_f6dcb05a.HTM</a></p>
<p><a target="_blank" rel="noopener" href="http://www.tek.com/Measurement/scopes/selection/performance/trigger.html">http://www.tek.com/Measurement/scopes/selection/performance/trigger.html</a></p>
<p>触发扫盲：</p>
<p><a target="_blank" rel="noopener" href="http://www2.tek.com/cmsreplive/tirep/4394/55C-17291-2_2009.05.27.00.56.45_4394_ZH.pdf" title="http://www2.tek.com/cmsreplive/tirep/4394/55C-17291-2_2009.05.27.00.56.45_4394_ZH.pdf">http://www2.tek.com/cmsreplive/tirep/4394/55C-17291-2_2009.05.27.00.56.45_4394_ZH.pdf</a><br>  </p></div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/09/15/archived-scope-trigger-sensitivity/" data-id="cl2eni866003brcun4ckbe994" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-code-share-cmd-open-webpage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/09/14/archived-code-share-cmd-open-webpage/" class="article-date">
  <time datetime="2009-09-14T02:32:00.000Z" itemprop="datePublished">2009-09-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/09/14/archived-code-share-cmd-open-webpage/">[code share]使用命令行打开网页</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1378" class="bvMsg">![Open Web Page use LabVIEW](http://lhb5883.files.wordpress.com/2009/09/openwebpageuselabview5b25d.png?w=158 "Open Web Page use LabVIEW")or ![open web page with CMD](http://lhb5883.files.wordpress.com/2009/09/openwebpagewithcmd5b85d.png?w=243 "open web page with CMD")    

<p>如图，这样就可以调用系统默认浏览器打开网页。<br>  </div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/09/14/archived-code-share-cmd-open-webpage/" data-id="cl2eni85l000trcun9brp0scm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-tips-certified-labview-developer" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/08/31/archived-tips-certified-labview-developer/" class="article-date">
  <time datetime="2009-08-30T19:30:36.000Z" itemprop="datePublished">2009-08-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E-Internet/">计算机与 Internet</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/08/31/archived-tips-certified-labview-developer/">Certified LabVIEW Developer 认证小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1370" class="bvMsg"> 

<p>LabVIEW中级认证考试的主要目的就是考察受试者的LabVIEW编程水平,程序风格,文档注释三个方面.详细可以查看下面的文档  </p>
<p><a href="ftp://ftp.ni.com/pub/devzone/tut/cld_exam_preparation_guide.pdf" title="ftp://ftp.ni.com/pub/devzone/tut/cld_exam_preparation_guide.pdf">ftp://ftp.ni.com/pub/devzone/tut/cld_exam_preparation_guide.pdf</a></p>
<p>下面这个链接已经列举了一些注意事项,我再补充几条:</p>
<p><a target="_blank" rel="noopener" href="http://cygnus-wei.spaces.live.com/blog/cns!CD5F4D351CB23EC!1406.entry" title="http://cygnus-wei.spaces.live.com/blog/cns!CD5F4D351CB23EC!1406.entry">http://cygnus-wei.spaces.live.com/blog/cns!CD5F4D351CB23EC!1406.entry</a></p>
<p>1. 善于利用LabVIEW自带的模板和VI,例如定时迅捷VI,读写电子表格文件VI,状态机模板,子VI模板几个都要熟练掌握.</p>
<p>2. 最好使用LabVIEW英文版开发环境.这样无论是模板还是控件名字都是默认英文,可以减小工作量.</p>
<p>3. 不要忘记在状态机模板里加上错误处理.</p>
<p>4. 写完程序一定要留调试和注释的时间.</p>
<p>5. 尽量将状态机Case结构里的代码封装为子VI.</p>
<p>6. 能用TypeDefine控件的尽量都用TypeDefine控件,方便程序维护.</p>
<p>7. 不需要用户交互的前面板控件最好隐藏掉.</p>
<p>细节: </p>
<p>1. 框图和前面板大小:根据考试要求最好限定为1024x768,要扩展尽量水平扩展.现在显示器以宽屏居多,方便观察整个程序.</p>
<p>2. LabVIEW配置,如果你到手的机器配置修改太多,例如字体等要改回来很麻烦.最简单的办法就是删除LabVIEW的INI文件.然后在工具-&gt;属性里取消前面板控件:显示为图标.</p>
<p>3. 状态机里面的等待函数一定要修改,设置为1是个不错的选择.</p>
<p>4. 使用Ctrl+鼠标拖拽扩展程序框图时一定要慎重,避免程序连线错位.<br>  </div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/08/31/archived-tips-certified-labview-developer/" data-id="cl2eni86b003vrcun1fxf02zi" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-labview-2009-recusion" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/08/21/archived-labview-2009-recusion/" class="article-date">
  <time datetime="2009-08-20T20:19:03.000Z" itemprop="datePublished">2009-08-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/08/21/archived-labview-2009-recusion/">LabVIEW 2009递归研究</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1369" class="bvMsg">

<p><strong>Part I ： Handson</strong></p>
<p>各位安装LabVIEW2009的同学请跟我做以下动作:</p>
<p>1:打开LabVIEW 2009.</p>
<p>[![image](<a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1mVYx9-iHIRHcVhl1R903uSWy0-7PkCqDKWTjNmCB171fHEVJhJmm79IjSw8KMzvYCuM6Z5NBkVimPJR-mpTTYeg90perGOqBtBghB04N9a5TZxdGEpKA43q7B8oH0ZeBmT9DvaqRKUNied1mU6jx0Hg/image_thumb">https://f2gz7g.bay.livefilestore.com/y1mVYx9-iHIRHcVhl1R903uSWy0-7PkCqDKWTjNmCB171fHEVJhJmm79IjSw8KMzvYCuM6Z5NBkVimPJR-mpTTYeg90perGOqBtBghB04N9a5TZxdGEpKA43q7B8oH0ZeBmT9DvaqRKUNied1mU6jx0Hg/image_thumb</a> 63232C87.png “image”)](<a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1mJf781TsQY2lMDPJPSS-Ciy9j5BqCKwwYq4up4HegzWdSPRRoK9XmPUSm0MhcjjsGdO3yBFl5o2ZUoHcAEFlDD9Idvou3kEx52H_zGgNN4Qq5OZzivi1JsoCTqmPU_J_g-6lkWGxiRub0O8NdLW8Kxw/image2">https://f2gz7g.bay.livefilestore.com/y1mJf781TsQY2lMDPJPSS-Ciy9j5BqCKwwYq4up4HegzWdSPRRoK9XmPUSm0MhcjjsGdO3yBFl5o2ZUoHcAEFlDD9Idvou3kEx52H_zGgNN4Qq5OZzivi1JsoCTqmPU_J_g-6lkWGxiRub0O8NdLW8Kxw/image2</a> 7AFEC386.png) </p>
<p>2:Ctrl+N</p>
<p>[![image](<a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1m0ogiAD6Jc2Cbxy3vpUAV6MrpE_K_Dabfar0aXUtgde7OEMLg1Ikyjmx3q6DM4dkzDU_ZVa6Vytc1aN8w4VtsYpBTtJfnyzax9NbFx2nJxlG1Xl3AxOMCDjiSzLGO49ZYdrJkMuRUh4NDF1juq0lLrw/image_thumb2">https://f2gz7g.bay.livefilestore.com/y1m0ogiAD6Jc2Cbxy3vpUAV6MrpE_K_Dabfar0aXUtgde7OEMLg1Ikyjmx3q6DM4dkzDU_ZVa6Vytc1aN8w4VtsYpBTtJfnyzax9NbFx2nJxlG1Xl3AxOMCDjiSzLGO49ZYdrJkMuRUh4NDF1juq0lLrw/image_thumb2</a> 1A28A6A4.png “image”)](<a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1mqUA4E2HIjdW9Gb3BZtx2IS9OvqufNm9ay5c3yoX7YyZtiExwtvNyKY6zO4IzSS5_hYD1H1mT82bnVU8GrzxlS_AzTvrzEsxkIBloXGJEeXVT03GQDPTy5-7VXeuYh0kU6fKN5Cf7WXnw8gIPYYITWQ/image8">https://f2gz7g.bay.livefilestore.com/y1mqUA4E2HIjdW9Gb3BZtx2IS9OvqufNm9ay5c3yoX7YyZtiExwtvNyKY6zO4IzSS5_hYD1H1mT82bnVU8GrzxlS_AzTvrzEsxkIBloXGJEeXVT03GQDPTy5-7VXeuYh0kU6fKN5Cf7WXnw8gIPYYITWQ/image8</a> 2D5308B1.png) </p>
<p>3:Ctrl+I,按下图配置</p>
<p><a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1mTJsXhwFua2feHrRTHHidlP8UL_niDiOlgDLqXBogknVvLwNzcQLlDPnAj9Nd9eU-slt_5e4mpgKoMsZAIswHRF6d9eH2x-0u7mCNVuzKSd2K4VyE5RYrizBHaxPc6H5YnRiUspCSTyHZolbOHjRpMw/image12.png">![image](https://f2gz7g.bay.livefilestore.com/y1mWhcbcuZQz7gwaAOLMDXl0lxrADAEmDyvRlECQD82oaX6EZrXUYRrfHsVXGO5GeLIRwcnLZvKAYu-BD54k0csbzWE7BjJ2JoQWhEkENXymMMwr49aIlhjK48h_aaq6c4M4AbE7BrVuzcnTQsPSm0VWg&#x2F;image_thumb4 796A50DA.png “image”)</a> </p>
<p>4:Ctrl+E,选择程序框图,将图标拖到程序框图</p>
<p><a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1mtg6ZXjelXoHmXA-xYApe6akbTKVKdtTBH_quMiSzKJndfpVbuYu7gLL-Sam_hY8rH9Icrm244_Qaw6dPLAScQj7ZbK8kxnE1jXgiKsLsGsYokS_LVM7UnagklPGUavrq6fYUsZCsgCP_K5VLYnHjqA/image16.png">![image](https://f2gz7g.bay.livefilestore.com/y1mcDpF6XgX1ChPJouSMEIE3qw8z_IizPqK5nXIwFlwPTl6ctx5Sw4BOgOf6XBGnJ66dpW_iJwhD3q6fWGya3VDTf5jr2lAylB_2U88qUcEnbUvEFn6OVw03NftdN2c39p1nxqkamVlrhq0EH9BIeRwEQ&#x2F;image_thumb6 708CFF2E.png “image”)</a> </p>
<p>5:Ctrl+R，然后稍等5分钟：</p>
<p><a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1m1yQuFE2PPchn6j3vH06VfbQjUhxybHx40VJLiaJvTh8Ug5ceO30uH-JkY3AW8fKT9SRvDTHf1WBG8f5DHqPiznrj_6UOcC3v6znY_IXbenCqaFABGdCOxuYloaJmHHVJIGZuG2CU3DqB4aC0LdfK4A/image23.png"><img src="https://f2gz7g.bay.livefilestore.com/y1mTROt_oCMYrqvSPJ04o_93I-BcT6v-wjgCSDCnM2r6e99wb8w2-XPcgd7vl2bYbHxGH8iHmbm6lA-3n86m8LBhbvZdsfTObYKgeBqQVIeSACqPrq_vyUkRFBWol7Q7nG1F97-kUeP9s4nd3XNOmDj-g/image_thumb9.png" alt="image" title="image"></a> </p>
<p>恭喜你编写了第一个递归VI并且让他挂掉了。</p>
<p>** Part II ： Basic I**</p>
<p>好,我们来玩点实在的，先看看LabVIEW 的例程：</p>
<p><a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1mvWEYPjzRXVMmpiuO4xUqrOXFHdNFe0v_y1tVO63ZJGZWgSxL7H_y9eUjrF71FHSZPW7h5_NkO6Ncsz_VXhrbaIIVDLG6mFk6J8DKUHii9Hagg4fAAsx6O6huAsx2nLXGUVP7Pr2DTY6CDSwbboXFaw/image6.png"><img src="https://f2gz7g.bay.livefilestore.com/y1mm8KaiiUP0iV4jeZuGcGwDgHYgJPz8icKzsio12LxgM3wMzboQT03e5_5hSjVTQid9D00wpjamNWPQrSvLu67so_5EEkB_loAoqARIAbEZnlypl43vNLYAwX-ejCOE3_3RK3Ts2sFerIEN5_5dA-O0g/image_thumb2[1].png" alt="image" title="image"></a> </p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/demorecursion5.png?w=300" alt="Demo Recursion" title="Demo Recursion"> </p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/recursion5.png?w=300" alt="Recursion" title="Recursion"> </p>
<p>在LabVIEW以前的版本只有类才能使用递归，不过现在已经比较成熟，普通的VI也可以递归了。</p>
<p>注意事项正如图中注释，我就不多废话。</p>
<p><strong>Part III ： Basic I</strong></p>
<p>为了更详细的演示递归，我们请出教科书里的经典例程汉诺塔。</p>
<p>首先附赠一个汉诺塔小游戏：</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/image5b105d.png?w=300" alt="image" title="image"> </p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/hanoitower5b55d.png?w=300" alt="hanoi tower" title="hanoi tower"> </p>
<p>附赠小游戏汉诺塔下载：<br>  <div style="display:inline;float:none;margin:0;padding:0;"><div><a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1merIkYDIpelIzeY2GYQAQKA_dg4i8FbfdK8GaKiGoTUnlLXvcUNsixVC_kF4eKje1hkTltCHlbr3URvf3IbJRprYA5K2m3ioq8YP-5kcvqgqDIuJh4SpxX6Gu2Y6io3-54vvTfhsDJz7IiAT174ZuLg/hanoi.tower.7z">hanoi tower.7z</a></div></div>（LabVIEW2009）  </p>
  <div style="display:inline;float:none;margin:0;padding:0;"><pre style="background-color:#FFFFFF;white-space:pre-wrap;word-wrap:break-word;overflow:auto;"><span style="color:#000000;">#include </span><span style="color:#000000;">&lt;</span><span style="color:#000000;">stdio.h</span><span style="color:#000000;">&gt;</span><span style="color:#000000;">
</span><span style="color:#0000FF;">void</span><span style="color:#000000;"> hano(</span><span style="color:#0000FF;">int</span><span style="color:#000000;"> n,</span><span style="color:#0000FF;">char</span><span style="color:#000000;"> a,</span><span style="color:#0000FF;">char</span><span style="color:#000000;"> b,</span><span style="color:#0000FF;">char</span><span style="color:#000000;"> c)
&#123;
    </span><span style="color:#0000FF;">if</span><span style="color:#000000;">(n</span><span style="color:#000000;">==</span><span style="color:#800080;">1</span><span style="color:#000000;">) 
        printf(</span><span style="color:#800000;">&quot;</span><span style="color:#800000;">t将%d个盘片从%c移动到%cn</span><span style="color:#800000;">&quot;</span><span style="color:#000000;">,n,a,c);
    </span><span style="color:#0000FF;">else</span><span style="color:#000000;"> &#123;
        hano(n</span><span style="color:#000000;">-</span><span style="color:#800080;">1</span><span style="color:#000000;">,a,c,b);
        printf(</span><span style="color:#800000;">&quot;</span><span style="color:#800000;">t将第%d个盘片从%c移动到%cn</span><span style="color:#800000;">&quot;</span><span style="color:#000000;">,n,a,c);
        hano(n</span><span style="color:#000000;">-</span><span style="color:#800080;">1</span><span style="color:#000000;">,b,a,c);
    &#125;
&#125;
main()
&#123;
    </span><span style="color:#0000FF;">int</span><span style="color:#000000;"> n;
    printf(</span><span style="color:#800000;">&quot;</span><span style="color:#800000;">输入将要移动多少个盘子n:</span><span style="color:#800000;">&quot;</span><span style="color:#000000;">);
    scanf(</span><span style="color:#800000;">&quot;</span><span style="color:#800000;">%d</span><span style="color:#800000;">&quot;</span><span style="color:#000000;">,</span><span style="color:#000000;">&amp;</span><span style="color:#000000;">n);
    printf(</span><span style="color:#800000;">&quot;</span><span style="color:#800000;">递归结果：n</span><span style="color:#800000;">&quot;</span><span style="color:#000000;">);
    hano(n,</span><span style="color:#800000;">'</span><span style="color:#800000;">x</span><span style="color:#800000;">'</span><span style="color:#000000;">,</span><span style="color:#800000;">'</span><span style="color:#800000;">y</span><span style="color:#800000;">'</span><span style="color:#000000;">,</span><span style="color:#800000;">'</span><span style="color:#800000;">z</span><span style="color:#800000;">'</span><span style="color:#000000;">);
&#125; </span></pre></div>

<p>然后我们来看看LabVIEW里面如何实现这个算法：</p>
<p>![auto hanoi tower](<a target="_blank" rel="noopener" href="https://f2gz7g.bay.livefilestore.com/y1mprygHzelJggiWKEkuwsSFY4M5mNbiguBIY5D7W2O9OD5HWZEsrxZuv2G5dv0Xm0gKLPXG60Tm1TqkTvBTIdvpxXoYjKlQG6JepC8a0f9Q4pOsO7iWMu1mKv7QYUrD0oWkuV2bYUM7tVMWd4Y0Wtbnw/auto">https://f2gz7g.bay.livefilestore.com/y1mprygHzelJggiWKEkuwsSFY4M5mNbiguBIY5D7W2O9OD5HWZEsrxZuv2G5dv0Xm0gKLPXG60Tm1TqkTvBTIdvpxXoYjKlQG6JepC8a0f9Q4pOsO7iWMu1mKv7QYUrD0oWkuV2bYUM7tVMWd4Y0Wtbnw/auto</a> hanoi tower[2].png “auto hanoi tower”) </p>
<p>主程序调用算法，然后演示步骤。</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/autohanoitowerrecursion5b25d.png?w=300" alt="auto hanoi tower recursion" title="auto hanoi tower recursion"> </p>
<p>递归调用算法。</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/quitrecursion5b25d.png?w=300" alt="Quit Recursion" title="Quit Recursion"> </p>
<p>当然不要忘记设置退出递归的条件。</p>
<p>源代码下载</p>
<div style="display:inline;float:none;margin:0;padding:0;"><div>[auto hanoi tower demo.7z](https://f2gz7g.bay.livefilestore.com/y1mzRAxsj5doJkMoW9WmdSPEQ3iq-X2OaTxJbPM4puKlPm79rh8T6O4U2h3pG8ZBzN8D6gzvsqrP-Sga8PVoRgSpxoLS5mprGxbuzJ3iO-ta5ZzyiZVb0tZ8eG5p_fnTbMme4M5-aBWVFHDog-XemQRKg/auto.hanoi.tower.demo.7z)</div></div>（LabVIEW2009）

<p><strong>Part IV ： Advance I</strong></p>
<p>到底递归有什么用呢？我们来看一个实用一点的工具：VI图标提取器</p>
<p><img src="https://f2gz7g.bay.livefilestore.com/y1mthsEtKyirJ5UgEwqu1Pd_SHiauSyudG9LPT5gSFTKp2tj6WRPWmHr9vA2gFltVAbHriMUMAvKkkGATycCxvYG5XOLYLV3PVxcx6vxw_9xqv0B3IZsOa4bdHZnp9aCZerIg1khZ9lhQeoZnevNjoU-Q/image[13].png" alt="image" title="image"> </p>
<p>主程序：</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/outputviicon5b25d.png?w=203" alt="output vi icon" title="output vi icon"> </p>
<p>递归代码</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/enumviicon5b25d.png?w=300" alt="enum vi icon" title="enum vi icon"> </p>
<p>源目录</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/image5b195d37974858.png?w=300" alt="image" title="image"> </p>
<p>输出目录</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/image5b165d72d9c6a2.png?w=300" alt="image" title="image"> </p>
<p><strong>Part V ： Advance II</strong></p>
<p>另外程序里附赠了一个利用LabVIEW自带的枚举函数写的同功能VI，大家可以看看，这个是可以枚举llb的。</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/labviewrecusionpath5b25d.png?w=300" alt="labview recusion path" title="labview recusion path"> </p>
<div style="display:inline;float:none;margin:0;padding:0;"><div>[Recursion VI  Icon.7z](https://f2gz7g.bay.livefilestore.com/y1mnRGuf_j3Gb5TpKVjOD5CxZ8UBELgZPqY3gZOVgWHl5DBflI0ZjbDuo1EUl-risW3uaQ7wgUlVRHJIDQ_ypyOhRQddP40jPnRG5uEJ1q_4sGMc7lSHn84388p379VGkZgLTFRvZ--1OjwUlAVXTMCtA/Recursion.VI..Icon.7z)</div></div>

<p>最后总结一下递归要注意的事项：</p>
<p><font color="#ff0000"><strong>1：真的有必要用递归么？</strong></font></p>
<p><font color="#ff0000"><strong>2：你的程序能否正常退出递归？</strong></font></p>
<p><font color="#ff0000"><strong>3：递归的过程是无法直接调试的，有没有好的办法保证VI按照我们的预期执行？</strong></font></p>
<p>如果这三个问题都能保证，恭喜你，你可以使用递归来提高你程序的效率了。<br>  </div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/08/21/archived-labview-2009-recusion/" data-id="cl2eni85s001ercun8f140jo8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archived-code-share-excel-to-pdf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2009/08/20/archived-code-share-excel-to-pdf/" class="article-date">
  <time datetime="2009-08-19T22:16:23.000Z" itemprop="datePublished">2009-08-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/08/20/archived-code-share-excel-to-pdf/">[代码分享]将Excel报表转换为PDF</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="msgcns!866B8F96A2761BBE!1332" class="bvMsg">

<p>有的时候我们往往不希望操作人员能修改生成的报表,转换为PDF就是一种不错的解决办法.</p>
<p><a target="_blank" rel="noopener" href="http://decibel.ni.com/content/docs/DOC-4552">http://decibel.ni.com/content/docs/DOC-4552</a></p>
<p>这就是一种不错的方案，不过需要安装一个软件才行。</p>
<p>其实Office2007SP2自带了转换为PDF的功能，调用的代码如下：</p>
<p><img src="http://lhb5883.files.wordpress.com/2009/08/xls2pdf_thumb5b25d0cf6b331.png?w=300" alt="xls2pdf" title="xls2pdf"> </p>
<p>拖到LabVIEW2009里面可以转换为代码。</p>
<p>Msdn的例程：</p>
<p><a target="_blank" rel="noopener" href="http://msdn.microsoft.com/en-us/library/bb407651.aspx">http://msdn.microsoft.com/en-us/library/bb407651.aspx</a><br>  </div></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haobo.li/2009/08/20/archived-code-share-excel-to-pdf/" data-id="cl2eni85l000urcun6l6m5vcg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/4/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/6/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Computers-and-Internet/">Computers and Internet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LabVIEW/">LabVIEW</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E-Internet/">计算机与 Internet</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NET/" rel="tag">.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CPU-Ferquency/" rel="tag">CPU Ferquency</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DCD/" rel="tag">DCD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Drivers/" rel="tag">Drivers</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LabVIEW/" rel="tag">LabVIEW</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LabVIEW-2009/" rel="tag">LabVIEW 2009</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LabVIEW-2010/" rel="tag">LabVIEW 2010</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LabVIEW-2011/" rel="tag">LabVIEW 2011</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MSN-Windows-live/" rel="tag">MSN.Windows live</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Microsoft/" rel="tag">Microsoft</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WMI/" rel="tag">WMI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Win32API/" rel="tag">Win32API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Wordpress/" rel="tag">Wordpress</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/labview/" rel="tag">labview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/" rel="tag">network</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/NET/" style="font-size: 10px;">.NET</a> <a href="/tags/CPU-Ferquency/" style="font-size: 10px;">CPU Ferquency</a> <a href="/tags/DCD/" style="font-size: 10px;">DCD</a> <a href="/tags/Drivers/" style="font-size: 10px;">Drivers</a> <a href="/tags/LabVIEW/" style="font-size: 10px;">LabVIEW</a> <a href="/tags/LabVIEW-2009/" style="font-size: 10px;">LabVIEW 2009</a> <a href="/tags/LabVIEW-2010/" style="font-size: 10px;">LabVIEW 2010</a> <a href="/tags/LabVIEW-2011/" style="font-size: 10px;">LabVIEW 2011</a> <a href="/tags/MSN-Windows-live/" style="font-size: 10px;">MSN.Windows live</a> <a href="/tags/Microsoft/" style="font-size: 10px;">Microsoft</a> <a href="/tags/WMI/" style="font-size: 10px;">WMI</a> <a href="/tags/Win32API/" style="font-size: 10px;">Win32API</a> <a href="/tags/Wordpress/" style="font-size: 10px;">Wordpress</a> <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/labview/" style="font-size: 20px;">labview</a> <a href="/tags/network/" style="font-size: 10px;">network</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">十月 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">八月 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/10/">十月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">九月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08/">八月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">三月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/02/">二月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/12/">十二月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/11/">十一月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/09/">九月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/08/">八月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/07/">七月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/03/">三月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/02/">二月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/01/">一月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/08/">八月 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/07/">七月 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/05/">五月 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/04/">四月 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/03/">三月 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/02/">二月 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/01/">一月 2008</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/02/21/20230221-labview-cross-platform-interoperate/">20230221-labview-cross-platform-interoperate</a>
          </li>
        
          <li>
            <a href="/2022/12/10/20221210-labview-fonts-fix/">20221210-labview-fonts-fix</a>
          </li>
        
          <li>
            <a href="/2022/08/02/20220802-labview-2022-released/">20220802-labview-2022-released</a>
          </li>
        
          <li>
            <a href="/2022/07/11/20220711-create-a-usb-reinstall-disk-from-a-ni-offical-pxi-controller-reinstall-usb-disk/">20220711-create-a-usb-reinstall-disk-from-a-ni-offical-pxi-controller-reinstall-usb-disk</a>
          </li>
        
          <li>
            <a href="/2022/04/27/20220427-what-is-the-relation-between-lean-6s-and-close-loop-management/">20220427-what-is-the-relation-between-lean-6s-and-close-loop-management</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 haobo.li<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>